/* ===========================================
   PARCHE TEMPORAL PARA Z-INDEX CONFLICTOS
   ========================================== */

/* 1. Loading Screen - Prioridad máxima */
.loading-container {
    z-index: 9999 !important;
}

/* 2. Paneles de UI críticos */
.panel-turnos,
.panel-fases,
.panel-interfaz {
    z-index: 1050 !important;
    background: rgba(0, 0, 0, 0.85) !important;
    backdrop-filter: blur(5px) !important;
}

/* 3. Paneles de edición */
.panel-edicion,
#panelEdicionUnidad,
#panelEdicionCalco {
    z-index: 1040 !important;
}

/* 4. Menús contextuales */
.menu-contextual,
.dropdown-menu {
    z-index: 1030 !important;
}

/* 5. Tooltips y elementos flotantes */
.tooltip,
.leaflet-popup {
    z-index: 1020 !important;
}

/* 6. Test buttons (temporales) */
.maira-test-button {
    z-index: 998 !important;
}

.maira-test-results {
    z-index: 997 !important;
}

/* 7. Mapa y elementos base */
#map {
    z-index: 1 !important;
}

/* 8. Corrección para evitar superposición de paneles */
.panel-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-height: 80vh;
    overflow-y: auto;
}

/* 9. Transparencia controlada para paneles activos */
.panel-activo {
    opacity: 1 !important;
    pointer-events: all !important;
}

.panel-inactivo {
    opacity: 0.3 !important;
    pointer-events: none !important;
}

/* 10. Fix para botones que se superponen */
button, .btn {
    position: relative;
    z-index: auto !important;
}

/* 11. Corrección específica para juego de guerra */
.interfaz-juego {
    position: fixed;
    top: 10px;
    right: 10px;
    max-width: 300px;
    z-index: 1050;
}

.panel-turnos {
    position: fixed;
    top: 80px;
    right: 10px;
    max-width: 280px;
    z-index: 1049;
}

.panel-fases {
    position: fixed;
    top: 160px;
    right: 10px;
    max-width: 280px;
    z-index: 1048;
}

/* 12. Separación visual entre paneles */
.panel {
    margin-bottom: 10px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 5px;
    padding: 10px;
}
